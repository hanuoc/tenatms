<div class="page-title">
  <div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
      <h3>Delegation Management
        <small>Delegation Request List</small>
      </h3>
    </div>
  </div>
</div>
<div class="clearfix"></div>
<div class="row">
  <div class="col-md-12 col-sm-12 col-xs-12">
    <div class="clearfix"></div>
    <div class="x_panel">
      <div>
        <div class="x_title">
          <div class="clearfix"></div>
        </div>
        <div style="overflow-x:auto;">
          <table *ngIf="listDelegationRequest && listDelegationRequest.length > 0" class="table table-bordered">
            <thead>
              <tr>
                <th>Title</th>
                <th>Reason Type</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Creator</th>
                <th>Delegated To</th>
                <th>Action</th>
              </tr>
            </thead>
            <thead>
              <tbody>
                <tr *ngFor="let items of listDelegationRequest">
                  <td>{{items.Title}}</td>
                  <td>{{items.EntitleDay != null ? items.EntitleDay.HolidayType : items.EntitleDay}}</td>
                  <td>{{items.StartDate | date: 'dd/MM/yyyy'}}</td>
                  <td>{{items.EndDate | date: 'dd/MM/yyyy'}}</td>
                  <td>{{items.AppUser.FullName}}</td>
                  <td>{{items.AppUserAssign.FullName}}</td>
                  <td>
                    <button *ngIf="!checkCancel(items)" class="btn btn-default btn-xs btn-danger" data-placement="top" title="Cancel" (click)="cancelRequest(items,items.Title,items.AppUserAssign)" >
                      <i class="fa fa-ban" aria-hidden="true"></i>
                    </button>
                  </td>
                </tr>
              </tbody>
          </table>
        </div>
        <div *ngIf="listDelegationRequest && listDelegationRequest.length == 0" class="col-md-12">
          <div class="alert alert-info">
            <strong>Notification!</strong> No data found in system
          </div>
        </div>
        <div *ngIf="listDelegationRequest && listDelegationRequest.length > 0" class="col-md-6">
          <pagination [boundaryLinks]="true" [maxSize]="pagingSize" [itemsPerPage]="pageSize" (pageChanged)="pageChanged($event)" [totalItems]="totalRow"
            [(ngModel)]="pageIndex" class="pagination-sm" previousText="&lsaquo;" nextText="&rsaquo;" firstText="&laquo;" lastText="&raquo;"></pagination>
        </div>
        <div *ngIf="listDelegationRequest && listDelegationRequest.length > 0 && totalRow > 1" class="col-md-6 showPage" style="text-align: right">
          <h5>Showing {{(pageIndex - 1) * pageSize + 1}} to {{currentMaxEntries}} of {{totalRow}} entries</h5>
        </div>
        <div *ngIf="listDelegationRequest && totalRow == 1" class="col-md-6 showPage" style="text-align: right">
          <h5>Showing {{(pageIndex - 1) * pageSize + 1}} to {{currentMaxEntries}} of {{totalRow}} entry</h5>
        </div>
      </div>
    </div>
  </div>
</div>